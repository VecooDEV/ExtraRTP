plugins {
    id 'fabric-loom' version '0.12-SNAPSHOT'
}

java.toolchain.languageVersion = JavaLanguageVersion.of(17)

archivesBaseName = "${project_name}"

minecraftVersion = "1.20.1-Fabric"

sourceSets.main.resources { srcDir 'src/generated/resources' }

repositories {}

dependencies {
    minecraft "com.mojang:minecraft:1.20.1"
    mappings loom.officialMojangMappings()

    modCompileOnly "net.fabricmc:fabric-loader:${fabric_loader_20}"
    modCompileOnly "net.fabricmc.fabric-api:fabric-api:${fabric_api_20}"

    modApi "maven.modrinth:extralib:${extralib_version}-fabric,1.20.1"
}

processResources {
    filesMatching('fabric.mod.json') {
        expand(
                'project_name': project_name,
                'project_version': project_version
        )
    }
}

build.finalizedBy('versionedRelease')